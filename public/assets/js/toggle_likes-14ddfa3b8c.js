class ToggleLike{constructor(e){this.toggler=e,this.toggleLike()}toggleLike(){$(this.toggler).click((function(e){e.preventDefault();let t=this;$.ajax({type:"GET",url:$(t).attr("href")}).done((function(e){let l=parseInt($(t).attr("data-likes"));if(console.log(l),1==e.data.deleted){if(0==e.data.model_diff&&(l-=1),1==e.data.model_diff){l+=1;let t,a="post-"+e.data.model+"-"+e.data.post_id;console.log("query is",a),t=parseInt($("#"+a).attr("data-"+e.data.model)),0!=t&&(t-=1),"wow"==e.data.model&&$("#"+a).html(`<i class="fas fa-surprise" style="color: yellowgreen;">&nbsp${t} Wow</i>`),"love"==e.data.model&&$("#"+a).html(`<i class="fas fa-heart" style="color:red;">&nbsp${t} Love</i>`)}}else l+=1;$(t).attr("data-likes",l),$(t).html(l+" Likes")})).fail((function(e){console.log("error in completing the request")}))}))}}