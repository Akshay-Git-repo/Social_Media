class ToggleLove{constructor(t){this.toggler=t,this.toggleLove()}toggleLove(){$(this.toggler).click((function(t){t.preventDefault();let e=this;$.ajax({type:"GET",url:$(e).attr("href")}).done((function(t){let l=parseInt($(e).attr("data-love"));if(console.log(l),console.log(t),1==t.data.deleted){if(0==t.data.model_diff&&(l-=1),1==t.data.model_diff){l+=1;let e,o="post-"+t.data.model+"-"+t.data.post_id;console.log("query is",o),"like"==t.data.model?(e=parseInt($("#"+o).attr("data-likes")),0!=e&&(e-=1),$("#"+o).html(e+" Likes")):(e=parseInt($("#"+o).attr("data-"+t.data.model)),0!=e&&(e-=1),$("#"+o).html(`<i class="fas fa-surprise" style="color: yellowgreen;">&nbsp${e} Wow</i>`))}}else l+=1;$(e).attr("data-love",l),$(e).html(`<i class="fas fa-heart" style="color: red;">&nbsp${l} Love</i>`)})).fail((function(t){console.log("error in completing the request")}))}))}}