class ToggleLove{constructor(t){this.toggler=t,this.toggleLove()}toggleLove(){$(this.toggler).click((function(t){t.preventDefault();let e=this;$.ajax({type:"GET",url:$(e).attr("href")}).done((function(t){let a,l=parseInt($(e).attr("data-love"));console.log(l);let o="total-likes-"+t.data.post_id;if(a=parseInt($("#"+o).attr("data-total-likes")),1==t.data.deleted){if(0==t.data.model_diff&&(l-=1,a-=1),1==t.data.model_diff){l+=1;let e,a="post-"+t.data.model+"-"+t.data.post_id;console.log("query is",a),"like"==t.data.model?(e=parseInt($("#"+a).attr("data-likes")),0!=e&&(e-=1),$("#"+a).html(e+" Likes")):(e=parseInt($("#"+a).attr("data-"+t.data.model)),0!=e&&(e-=1),$("#"+a).html(`<i class="fas fa-surprise" style="color: yellowgreen;">&nbsp${e} Wow</i>`))}}else l+=1,a+=1;$(e).attr("data-love",l),$("#"+o).html(a+" Likes"),$(e).html(`<i class="fas fa-heart" style="color: red;">&nbsp${l} Love</i>`)})).fail((function(t){console.log("error in completing the request")}))}))}}